{"remainingRequest":"C:\\xampp\\htdocs\\pempleos\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pempleos\\client\\src\\components\\cat.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pempleos\\client\\src\\components\\cat.vue","mtime":1541582665588},{"path":"C:\\xampp\\htdocs\\pempleos\\client\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1541050042000},{"path":"C:\\xampp\\htdocs\\pempleos\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1541132801404},{"path":"C:\\xampp\\htdocs\\pempleos\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport axios from 'axios';\r\nexport default {\r\n     name: 'cat',\r\n    data: ()=>({\r\n        loading: true,\r\n        category: [],\r\n        nombreC: '',\r\n        idcategoria: null,\r\n        edit: false,\r\n        idcat: null,\r\n         headers: [\r\n          {\r\n            text: 'Trabajos',\r\n            align: 'center',\r\n            sortable: false,\r\n            value: 'name'\r\n          },\r\n          { text: 'Nombre', value: 'Nombre' },\r\n          { text: 'Acciones', value: 'Acciones' }\r\n        ],\r\n    }),\r\n    mounted(){\r\n        this.mostrarCategorias();\r\n    },\r\n    methods:{\r\n           mostrarCategorias(){\r\n            axios.get('http://localhost/pempleos/categoria/listar').then(response=> {\r\n                this.category = [];\r\n                for(let i = 0; i<response.data[0].length; i++){\r\n                    this.category.push(response.data[0][i]);\r\n                }\r\n            }).catch(err=>console.error(err)).finally(()=>{this.loading=false});\r\n        },\r\n        crearCategoria(){\r\n            if(this.edit == false){\r\n                axios.post('http://localhost/pempleos/categoria/create', {\r\n                nombre: this.nombreC,\r\n                id_usuario: this.$session.get('id')\r\n            }).then(res=> {\r\n                console.log(res.data)\r\n                this.loading = true;\r\n                this.mostrarCategorias();\r\n                }).catch(err=> console.log(err)).finally(()=>{this.loading=false});;\r\n            }else{\r\n                 axios.put('http://localhost/pempleos/categoria/edit/' + this.idcategoria, {\r\n                nombre: this.nombreC\r\n            }).then(res=> {\r\n                console.log(res.data)\r\n                this.loading = true;\r\n                this.edit = false;\r\n                this.nombreC = '';\r\n                this.mostrarCategorias();\r\n                }).catch(err=> console.log(err)).finally(()=>{this.loading=false});;\r\n            }\r\n        }, \r\n        eliminarCategoria(id){\r\n            //axios.delete('http://localhost/pempleos/categoria/create' + id).then(res=> console.log(res.data))\r\n        },\r\n        editarCategoria(id){\r\n           axios.get('http://localhost/pempleos/categoria/listarid/' + id).then(res=>{\r\n               this.nombreC = res.data[0].nombre;\r\n               this.idcategoria = res.data[0].id_categoria;\r\n               this.edit = true;\r\n           }).catch(error=> console.log(error));\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["cat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cat.vue","sourceRoot":"src\\components","sourcesContent":["<template>\r\n    <div>\r\n    \r\n         <div  class=\"text-xs-center\" v-if=\"loading\"><v-progress-circular\r\n      :size=\"70\"\r\n      :width=\"7\"\r\n      color=\"purple\"\r\n      indeterminate\r\n    ></v-progress-circular></div>\r\n        <div v-else>\r\n            <v-layout row v-if=\"edit === false\">\r\n                 <v-text-field label=\"Nombre\"  v-model=\"nombreC\"></v-text-field> \r\n                 <v-btn  color=\"success\" @click=\"crearCategoria()\">Agregar Categoria <v-icon dark>add</v-icon></v-btn>\r\n           </v-layout>\r\n           <v-layout row v-else>\r\n                 <v-text-field label=\"Nombre\"  v-model=\"nombreC\"></v-text-field> \r\n                 <v-btn   color=\"purple\" @click=\"crearCategoria()\">Editar Categoria<v-icon>edit</v-icon></v-btn>\r\n           </v-layout>\r\n              <template>         \r\n  <v-data-table\r\n    :headers=\"headers\"\r\n    :items=\"category\"\r\n    hide-actions\r\n    class=\"elevation-1\"\r\n  >\r\n    <template slot=\"items\" slot-scope=\"props\">\r\n        \r\n        <td class=\"text-xs-center text-uppercase\">{{ props.item.id_categoria }}</td>\r\n      <td class=\"text-xs-left text-uppercase\">{{ props.item.nombre }}</td>\r\n       <td class=\"text-xs-center text-uppercase\"><v-btn color=\"primary\" @click=\"editarCategoria(props.item.id_categoria)\">Editar<v-icon>edit</v-icon></v-btn> <v-btn color=\"error\">Eliminar <v-icon dark>remove</v-icon></v-btn></td>  \r\n\r\n      \r\n    </template>\r\n  </v-data-table>\r\n  </template>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n     name: 'cat',\r\n    data: ()=>({\r\n        loading: true,\r\n        category: [],\r\n        nombreC: '',\r\n        idcategoria: null,\r\n        edit: false,\r\n        idcat: null,\r\n         headers: [\r\n          {\r\n            text: 'Trabajos',\r\n            align: 'center',\r\n            sortable: false,\r\n            value: 'name'\r\n          },\r\n          { text: 'Nombre', value: 'Nombre' },\r\n          { text: 'Acciones', value: 'Acciones' }\r\n        ],\r\n    }),\r\n    mounted(){\r\n        this.mostrarCategorias();\r\n    },\r\n    methods:{\r\n           mostrarCategorias(){\r\n            axios.get('http://localhost/pempleos/categoria/listar').then(response=> {\r\n                this.category = [];\r\n                for(let i = 0; i<response.data[0].length; i++){\r\n                    this.category.push(response.data[0][i]);\r\n                }\r\n            }).catch(err=>console.error(err)).finally(()=>{this.loading=false});\r\n        },\r\n        crearCategoria(){\r\n            if(this.edit == false){\r\n                axios.post('http://localhost/pempleos/categoria/create', {\r\n                nombre: this.nombreC,\r\n                id_usuario: this.$session.get('id')\r\n            }).then(res=> {\r\n                console.log(res.data)\r\n                this.loading = true;\r\n                this.mostrarCategorias();\r\n                }).catch(err=> console.log(err)).finally(()=>{this.loading=false});;\r\n            }else{\r\n                 axios.put('http://localhost/pempleos/categoria/edit/' + this.idcategoria, {\r\n                nombre: this.nombreC\r\n            }).then(res=> {\r\n                console.log(res.data)\r\n                this.loading = true;\r\n                this.edit = false;\r\n                this.nombreC = '';\r\n                this.mostrarCategorias();\r\n                }).catch(err=> console.log(err)).finally(()=>{this.loading=false});;\r\n            }\r\n        }, \r\n        eliminarCategoria(id){\r\n            //axios.delete('http://localhost/pempleos/categoria/create' + id).then(res=> console.log(res.data))\r\n        },\r\n        editarCategoria(id){\r\n           axios.get('http://localhost/pempleos/categoria/listarid/' + id).then(res=>{\r\n               this.nombreC = res.data[0].nombre;\r\n               this.idcategoria = res.data[0].id_categoria;\r\n               this.edit = true;\r\n           }).catch(error=> console.log(error));\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}
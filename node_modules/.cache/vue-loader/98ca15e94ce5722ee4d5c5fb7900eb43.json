{"remainingRequest":"C:\\xampp\\htdocs\\pempleos\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pempleos\\client\\src\\components\\empleos.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pempleos\\client\\src\\components\\empleos.vue","mtime":1541595734397},{"path":"C:\\xampp\\htdocs\\pempleos\\client\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1541050042000},{"path":"C:\\xampp\\htdocs\\pempleos\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1541132801404},{"path":"C:\\xampp\\htdocs\\pempleos\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n\r\nimport axios from 'axios';\r\nexport default {\r\n    name: 'empleos',\r\n    data:() =>({\r\n        datos: null,\r\n        loading: true,\r\n        postul: false,\r\n        alert: false,\r\n        idpostul: null\r\n    }),\r\n    mounted(){\r\n       \r\n        this.mostrarEmpleo(this.$route.params.id);\r\n        if(this.$session.exists()){\r\n            this.getpostul(this.$session.get('id'), this.$route.params.id);\r\n        }else{\r\n          \r\n        }\r\n    },\r\n    methods:{\r\n         mostrarEmpleo(id){\r\n            axios.get('http://localhost/pempleos/empleo/listarid/' + id)\r\n            .then(response=> {\r\n         \r\n              this.datos = response.data[0];\r\n              console.log(this.datos);\r\n                })\r\n            .catch(err=>console.error(err)).finally(()=> this.loading=false);\r\n        },\r\n        getpostul(idusuario, idempleo){\r\n              axios.get('http://localhost/pempleos/empleo/getpostul/' + idusuario + '/' + idempleo)\r\n            .then(response=> {\r\n                console.log(response.data);\r\n                    if (response.data[0].idpostul != undefined) {\r\n                    this.idpostul = response.data[0].idpostul\r\n                    this.postul = true;\r\n                    }else{\r\n                        this.postul = false;    \r\n                    }\r\n                })\r\n            .catch(err=>console.error(err)).finally(()=> this.loading=false);\r\n        },\r\n        postularse(){\r\n           if (this.$session.exists()) {\r\n                axios.post('http://localhost/pempleos/empleo/postularse',{\r\n                idUsuario: this.$session.get('id'),\r\n                idempleo: this.$route.params.id\r\n            }).then(res=>{\r\n                console.log(res.data);\r\n                this.postul = true;\r\n                this.getpostul(this.$session.get('id'), this.$route.params.id);\r\n            }).catch(err=>console.log(err));\r\n           }else{\r\n               this.alert = true;\r\n           }\r\n        },\r\n        despostularse(){\r\n            axios.delete('http://localhost/pempleos/empleo/despostularse/' + this.idpostul).then(res=>{\r\n                console.log(res.data[0]);\r\n                this.postul = true;\r\n                this.getpostul(this.$session.get('id'), this.$route.params.id);\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n",{"version":3,"sources":["empleos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"empleos.vue","sourceRoot":"src\\components","sourcesContent":["<template>\r\n\r\n<div  class=\"text-xs-center\" v-if=\"loading\"><v-progress-circular\r\n      :size=\"70\"\r\n      :width=\"7\"\r\n      color=\"purple\"\r\n      indeterminate\r\n    ></v-progress-circular>\r\n    \r\n    </div>\r\n    \r\n   <v-container v-else class=\" mt-5\">\r\n        <div class=\"text-xs-left\">\r\n    <v-btn fab dark small color=\"primary\" @click=\"$router.go(-1)\">\r\n      <v-icon dark>arrow_back</v-icon>\r\n    </v-btn>\r\n             </div>\r\n         <v-alert\r\n      v-model=\"alert\"\r\n      dismissible\r\n      type=\"error\"\r\n    >Tiene que estar logueado para postularse</v-alert>\r\n       <h2 class=\"display-3 cyan--text\">Puesto de trabajo <span class=\"error--text\">Disponible</span></h2>\r\n       <v-layout >\r\n           <v-flex xs9>\r\n              <h1 class=\"text-uppercase display-3 mt-5\">{{datos.compa√±ia}}</h1>\r\n                <h4 class=\"subheading display-5 text-uppercase\">{{datos.ubicacion}}</h4>\r\n                 <v-divider class=\"mt-3\"></v-divider>\r\n              <h3 class=\"cyan--text text-uppercase py-3\" >{{datos.posicion}} - {{datos.tipo}}</h3>\r\n              <v-divider class=\"mb-5\"></v-divider>\r\n         \r\n                  <p class=\"my-5 pt-4 body-2\" >{{datos.descripcion}}</p>\r\n             <br><br>\r\n              <v-layout align-content-end column>\r\n                  <strong >Como Aplicar? </strong> Envia un resumen de tu potencial a la pagina: <a :href=\"datos.url\">{{datos.url}}</a>   \r\n              </v-layout>\r\n           </v-flex>\r\n             \r\n           <v-flex xs3>\r\n             \r\n               <div v-if=\"datos.logo!=null\">\r\n                     <v-img\r\n                  :src=\"datos.logo\"\r\n                  :lazy-src=\"datos.logo\"\r\n                  aspect-ratio=\"1\"\r\n                  class=\"grey lighten-2\"\r\n                >\r\n                     </v-img>\r\n               </div>\r\n                 <v-img\r\n                  :src=\"`https://picsum.photos/500/300?image=${n * 5 + 10}`\"\r\n                  :lazy-src=\"`https://picsum.photos/10/6?image=${n * 5 + 10}`\"\r\n                  aspect-ratio=\"1\"\r\n                  class=\"grey lighten-2\"\r\n                  v-else\r\n                >\r\n\r\n                     </v-img>\r\n                     <div v-if=\"this.$session.get('tipo') == 'user' ||this.$session.get('tipo') == undefined  \"> \r\n                         <div v-if=\"!postul\">\r\n                             <v-btn depresed block color=\"teal\" class=\"text-xs-center\" @click=\"postularse\">postularse\r\n                             </v-btn>\r\n                             </div> \r\n                             <div v-else>\r\n                                  <v-btn depresed block color=\"red\" class=\"text-xs-center\" @click=\"despostularse\">despostularse\r\n                             </v-btn>\r\n                             </div>\r\n                             </div>\r\n           </v-flex>\r\n       </v-layout>\r\n   </v-container>\r\n</template>\r\n<script>\r\n\r\nimport axios from 'axios';\r\nexport default {\r\n    name: 'empleos',\r\n    data:() =>({\r\n        datos: null,\r\n        loading: true,\r\n        postul: false,\r\n        alert: false,\r\n        idpostul: null\r\n    }),\r\n    mounted(){\r\n       \r\n        this.mostrarEmpleo(this.$route.params.id);\r\n        if(this.$session.exists()){\r\n            this.getpostul(this.$session.get('id'), this.$route.params.id);\r\n        }else{\r\n          \r\n        }\r\n    },\r\n    methods:{\r\n         mostrarEmpleo(id){\r\n            axios.get('http://localhost/pempleos/empleo/listarid/' + id)\r\n            .then(response=> {\r\n         \r\n              this.datos = response.data[0];\r\n              console.log(this.datos);\r\n                })\r\n            .catch(err=>console.error(err)).finally(()=> this.loading=false);\r\n        },\r\n        getpostul(idusuario, idempleo){\r\n              axios.get('http://localhost/pempleos/empleo/getpostul/' + idusuario + '/' + idempleo)\r\n            .then(response=> {\r\n                console.log(response.data);\r\n                    if (response.data[0].idpostul != undefined) {\r\n                    this.idpostul = response.data[0].idpostul\r\n                    this.postul = true;\r\n                    }else{\r\n                        this.postul = false;    \r\n                    }\r\n                })\r\n            .catch(err=>console.error(err)).finally(()=> this.loading=false);\r\n        },\r\n        postularse(){\r\n           if (this.$session.exists()) {\r\n                axios.post('http://localhost/pempleos/empleo/postularse',{\r\n                idUsuario: this.$session.get('id'),\r\n                idempleo: this.$route.params.id\r\n            }).then(res=>{\r\n                console.log(res.data);\r\n                this.postul = true;\r\n                this.getpostul(this.$session.get('id'), this.$route.params.id);\r\n            }).catch(err=>console.log(err));\r\n           }else{\r\n               this.alert = true;\r\n           }\r\n        },\r\n        despostularse(){\r\n            axios.delete('http://localhost/pempleos/empleo/despostularse/' + this.idpostul).then(res=>{\r\n                console.log(res.data[0]);\r\n                this.postul = true;\r\n                this.getpostul(this.$session.get('id'), this.$route.params.id);\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n"]}]}